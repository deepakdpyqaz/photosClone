(function(t){function e(e){for(var r,n,i=e[0],l=e[1],c=e[2],d=0,f=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&f.push(s[n][0]),s[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},s={app:0},o=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"084f":function(t,e,a){},"242d":function(t,e,a){},"2aaf":function(t,e,a){"use strict";a("3a74")},"3a74":function(t,e,a){},"53c8":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("e792"),a("0cdd");var r=a("2b0e"),s=a("5f5b"),o=a("b1e0");a("ab8b"),a("2dd8");r["default"].use(s["a"]),r["default"].use(o["a"]);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],l=(a("034f"),a("2877")),c={},u=Object(l["a"])(c,n,i,!1,null,null,null),d=u.exports,f=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Home"}},[a("Background"),a("Banner")],1)},p=[],h=function(){var t=this,e=this,a=e.$createElement,r=e._self._c||a;return r("div",[r("b-modal",{attrs:{"hide-footer":"","hide-header":"","header-text-variant":"primary"},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[r("h2",{staticClass:"h2 text-center text-primary my-0 py-0"},[e._v(e._s(e._f("capitalize")(e.formType)))]),r("h3",{staticClass:"text-danger"},[e._v(e._s(e.error_message))]),r("b-form",{staticClass:"my-0",on:{submit:e.submit,reset:e.reset}},["signup"==e.formType?r("b-form-group",{staticClass:"my-0",attrs:{id:"name-group",label:"Name:","label-for":"email"}},[r("b-form-input",{attrs:{id:"name",placeholder:"Enter name",disabled:e.inProgress,required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1):e._e(),r("b-form-group",{staticClass:"my-0",attrs:{id:"email-group",label:"Email address:","label-for":"email"}},[r("b-form-input",{attrs:{id:"email",type:"email",placeholder:"Enter email",disabled:e.inProgress,required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("b-form-group",{staticClass:"my-0",attrs:{id:"password-group",label:"password:","label-for":"password"}},[r("b-form-input",{attrs:{id:"password",type:"password",placeholder:"Enter password",disabled:e.inProgress,required:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.inProgress,expression:"!inProgress"}],staticClass:"mt-3",attrs:{variant:"primary",type:"submit",block:""}},[e._v(e._s(e._f("capitalize")(e.formType)))]),r("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.inProgress,expression:"!inProgress"}],staticClass:"mt-2",attrs:{variant:"danger",type:"reset",block:""}},[e._v("Cancel")]),r("b-button",{directives:[{name:"show",rawName:"v-show",value:e.inProgress,expression:"inProgress"}],staticClass:"mt-2",attrs:{variant:"secondary",block:""}},[e._v("Please wait..")])],1)],1),r("div",{attrs:{id:"banner"}},[r("div",{staticClass:"text"},[e._v("One place for all memories")]),r("div",{staticClass:"get_started"},[r("div",[r("b-button",{staticClass:"btn",attrs:{variant:"primary"},on:{click:function(){t.showModal("login")}}},[e._v(" Login ")])],1),r("div",[r("b-button",{staticClass:"btn",attrs:{variant:"primary"},on:{click:function(){t.showModal("signup")}}},[e._v(" Signup ")])],1)])])],1)},b=[],g=(a("d3b7"),a("1947")),v=a("6aac"),w={name:"Banner",components:{BButton:g["a"],BModal:v["a"]},filters:{capitalize:function(t){return t[0].toUpperCase()+t.substring(1)}},data:function(){return{modalShow:!1,formType:"login",form:{email:"",name:"",password:""},inProgress:!1,error_message:""}},methods:{showModal:function(t){this.$data.formType=t,this.$data.modalShow=!0},submit:function(t){t.preventDefault();var e=this;this.axios.post("/user/"+this.$data.formType,this.$data.form,{headers:{Authorization:""}}).then((function(t){e.$data.error_message="";var a=t.data;localStorage.setItem("user",JSON.stringify(a)),e.axios.defaults.headers.common["Authorization"]="Token "+a.token,e.$router.push("/dashboard")})).catch((function(t){e.$data.error_message=t.response.data.message})).finally((function(){e.$data.inProgress=!1})),this.$data.inProgress=!0},reset:function(t){t.preventDefault(),this.$data.modalShow=!1,this.$data.form={name:"",email:"",password:""}}}},y=w,x=(a("9421"),Object(l["a"])(y,h,b,!1,null,"aa4632c4",null)),_=x.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background"},t._l(t.fringes,(function(t,e){return a("div",{key:e},[a("Fringe",{attrs:{color:t.color,background:t.background}})],1)})),0)},k=[],P=(a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"circle",style:{background:"url("+this.$props.background+") "+this.$props.color,boxShadow:"0px 0px 10px 3px "+this.$props.color}})])}),C=[],S={name:"Fringe",props:["color","background"]},O=S,j=(a("e4b6"),Object(l["a"])(O,P,C,!1,null,"ce32c812",null)),B=j.exports,T={name:"Background",components:{Fringe:B},data:function(){return{colors:["#0165fc","#3f00ff","#cfff00","#66ff00","#fe6700","#ff7f50","#fe01b1","#8f00f1","#f2013f","#eb5406","#b00149","#001155"],keywords:["human","smile","dance","reading","walk","enjoy","play","music"],fringes:[]}},methods:{keywordsGenerator:regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e>-1)){t.next=6;break}return e=(e+1)%this.$data.keywords.length,t.next=4,e;case 4:t.next=0;break;case 6:case"end":return t.stop()}}),t,this)}))},mounted:function(){for(var t=this,e=this.keywordsGenerator(0),a=0;a<10;a++)t.$data.fringes.push({color:t.$data.colors[parseInt(10*Math.random()%t.$data.colors.length)],background:"https://source.unsplash.com/300x300/?"+t.$data.keywords[e.next().value]});setInterval((function(){for(var a=0;a<10*Math.random()%parseInt(t.$data.colors.length);a++)t.$data.fringes.push({color:t.$data.colors[parseInt(10*Math.random()%t.$data.colors.length)],background:"https://source.unsplash.com/300x300/?"+t.$data.keywords[e.next().value]});for(var r=0;r<10*Math.random()%parseInt(t.$data.colors.length/2);r++)t.$data.fringes.shift()}),2e4)}},z=T,E=(a("cbf7"),Object(l["a"])(z,$,k,!1,null,"7b45e874",null)),I=E.exports,M={name:"Home",components:{Banner:_,Background:I},mounted:function(){var t=localStorage.getItem("user");t&&this.$router.push("/dashboard")}},D=M,A=Object(l["a"])(D,m,p,!1,null,"c01dfe44",null),U=A.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dashboard"}},[a("Header",{attrs:{name:t.user.first_name}}),t.inProgress?a("div",{staticClass:"text-center"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem",margin:"20px"},attrs:{variant:"danger",label:"Spinning"}})],1):a("div",{staticClass:"picture_wrapper"},t._l(t.pictures,(function(e){return a("Picture",{key:e.id,attrs:{uid:e.id,image:e.picture},on:{deleteSuccess:t.getAllPictues}})})),1),a("UploadPic",{on:{uploadSuccess:t.getAllPictues}})],1)},L=[],R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"header"}},[r("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[r("b-navbar-brand",{staticClass:"ml-2 d-flex",attrs:{href:"#"}},[r("img",{staticClass:"mr-3",attrs:{src:a("cf05"),height:"50px",alt:"Photos"}}),t._v(" "),r("h2",{staticClass:"h2 ml-3"},[t._v("Welcome "+t._s(t.name))])]),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"md",variant:"info"},on:{click:t.logout}},[t._v("Logout")])],1)],1)],1)],1)},H=[],q={name:"Header",props:["name"],methods:{logout:function(){localStorage.getItem("user")&&localStorage.removeItem("user");var t=this;this.axios.get("/user/logout",{headers:{Authorization:""}}).then((function(){t.$router.push("/")})).catch((function(){alert("An error occured")}))}}},F=q,J=Object(l["a"])(F,R,H,!1,null,null,null),G=J.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pic",on:{click:t.showDeleteBtn,mouseleave:function(){t.showContext=!1}}},[a("img",{attrs:{src:this.axios.defaults.baseURL+t.image,alt:""}}),t.showContext?a("div",{staticClass:"picBtn"},[a("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"lg",variant:"danger"},on:{click:t.deletePic}},[t._v("Delete")]),a("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"lg",variant:"primary"},on:{click:t.openInNewTab}},[t._v("View")])],1):t._e()])},W=[],K={name:"picture",props:["image","uid"],data:function(){return{showContext:!1}},methods:{openInNewTab:function(){window.open(this.axios.defaults.baseURL+this.$props.image,"_blank")},deletePic:function(){var t=this;this.axios.delete("/picture/"+this.$props.uid).then((function(){t.$emit("deleteSuccess")})).catch((function(t){console.log(t)}))},showDeleteBtn:function(t){t.preventDefault(),this.$data.showContext=!0}}},Q=K,X=(a("89da"),Object(l["a"])(Q,V,W,!1,null,"091e33f4",null)),Y=X.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"uploadBtn"}},[a("b-modal",{attrs:{"hide-footer":"","hide-header":"","header-text-variant":"primary"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("h2",{staticClass:"text-danger"},[t._v(t._s(t.error_message))]),a("b-form",{on:{submit:t.uploadPicture}},[a("b-form-file",{staticClass:"addPic",attrs:{state:Boolean(t.file),accept:"image/*",placeholder:"Choose an image or drop it here...","drop-placeholder":"Drop image here...",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),a("div",{staticClass:"text-center"},[a("img",{staticClass:"my-3 text-center",attrs:{src:t.imgPreview,width:"250",alt:""}})]),t.inProgress?a("b-button",{staticClass:"my-3",attrs:{variant:"secondary",block:"",size:"lg"}},[t._v("Please wait...")]):a("b-button",{staticClass:"my-3",attrs:{variant:"info",block:"",size:"lg",type:"submit"}},[t._v("Submit")])],1)],1),a("b-button",{attrs:{variant:"info",size:"lg"},on:{click:function(){t.modalShow=!t.modalShow}}},[a("h1",{staticClass:"h1"},[a("b-icon-upload")],1)])],1)},tt=[],et=(a("3ca3"),a("ddb0"),a("2b3d"),{name:"UploadPic",data:function(){return{modalShow:!1,file:null,inProgress:!1,error_message:""}},computed:{imgPreview:function(){return this.$data.file?URL.createObjectURL(this.$data.file):""}},methods:{uploadPicture:function(t){var e=this;t.preventDefault();var a=new FormData;a.append("picture",this.$data.file),this.$data.inProgress=!0,this.axios.post("/picture/upload",a,{header:{"Content-Type":"multipart/form-data"}}).then((function(){e.$data.modalShow=!1,e.$emit("uploadSuccess"),e.$data.file=null})).catch((function(t){e.$data.error_message=t.message})).finally((function(){e.$data.inProgress=!1}))}}}),at=et,rt=(a("2aaf"),Object(l["a"])(at,Z,tt,!1,null,"5cf3a0a6",null)),st=rt.exports,ot={name:"Dashboard",components:{Header:G,Picture:Y,UploadPic:st},data:function(){return{user:{},pictures:[],inProgress:!0}},methods:{getAllPictues:function(){var t=this;this.axios.get("/picture/").then((function(e){t.$data.inProgress=!1,t.$data.pictures=e.data})).catch((function(t){console.log(t)}))}},mounted:function(){var t=localStorage.getItem("user");t?(this.$data.user=JSON.parse(t),this.axios.defaults.headers.common["Authorization"]="Token "+this.$data.user.token):this.$router.push("/"),this.getAllPictues()}},nt=ot,it=(a("935d"),Object(l["a"])(nt,N,L,!1,null,"3a02b2d5",null)),lt=it.exports;r["default"].use(f["a"]);var ct=[{name:"Home",path:"/",component:U},{name:"Dashboard",path:"/dashboard",component:lt}],ut=new f["a"]({mode:"history",base:"/",routes:ct}),dt=ut,ft=a("bc3a"),mt=a.n(ft),pt=a("2106"),ht=a.n(pt);r["default"].use(ht.a,mt.a),r["default"].config.productionTip=!1,mt.a.defaults.baseURL="https://photosclonebymonika.herokuapp.com",new r["default"]({router:dt,render:function(t){return t(d)}}).$mount("#app")},7701:function(t,e,a){},"85ec":function(t,e,a){},"89da":function(t,e,a){"use strict";a("242d")},"935d":function(t,e,a){"use strict";a("ab32")},9421:function(t,e,a){"use strict";a("53c8")},ab32:function(t,e,a){},cbf7:function(t,e,a){"use strict";a("7701")},cf05:function(t,e,a){t.exports=a.p+"static/img/logo.69304a66.png"},e4b6:function(t,e,a){"use strict";a("084f")}});
//# sourceMappingURL=app.3998be29.js.map